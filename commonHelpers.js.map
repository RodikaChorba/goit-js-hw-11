{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export function renderImages(input) {\n  return Array.from({ length: input.hits.length }, (_, index) => {\n    const li = document.createElement('li');\n    const a = document.createElement('a');\n    a.classList.add('gallery-link');\n    a.href = input.hits[index].largeImageURL;\n    const image = document.createElement('img');\n    image.classList.add('gallery-image');\n    image.src = input.hits[index].webformatURL;\n    image.alt = input.hits[index].tags;\n    const textDiv = document.createElement('div');\n    textDiv.classList.add('text-div');\n    a.appendChild(image);\n    a.appendChild(textDiv);\n    li.appendChild(a);\n    textDiv.innerHTML += `<p><b>Likes</b><br>${input.hits[index].likes}</p><p><b>Views</b><br>${input.hits[index].views}</p><p><b>Comments</b><br>${input.hits[index].comments}</p><p><b>Downloads</b><br>${input.hits[index].downloads}</p>`;\n    return li;\n  });\n}\n","export function fetchImages(input) {\n  return fetch(\n    `https://pixabay.com/api/?key=43920119-17be8655c7213217026175d69&q=${encodeURIComponent(\n      input\n    )}&image_type=photo&orientation=horizontal&safesearch=true`\n  ).then(responce => {\n    if (!responce) {\n      throw new Error(responce.status);\n    }\n    return responce.json();\n  });\n}\n","import { renderImages } from './js/render-functions';\nimport { fetchImages } from './js/pixabay-api';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nlet gallery = new SimpleLightbox('.gallery a', {\n  captions: true,\n  captionsData: 'alt',\n  captionDelay: 250,\n});\nconst formInput = document.querySelector('.search-image-form');\nconst imagesDiv = document.querySelector('.gallery');\nconst span = document.querySelector('.loader');\nformInput.addEventListener('submit', event => {\n  event.preventDefault();\n  imagesDiv.innerHTML = '';\n  const searchRequest = formInput.elements.input.value.trim();\n  if (!searchRequest) {\n    return iziToast.error({\n      position: 'topRight',\n      message: 'Search request must not be blank',\n    });\n  }\n  span.classList.remove('visually-hidden');\n  fetchImages(searchRequest)\n    .then(imagesData => {\n      if (!imagesData.total) {\n        iziToast.error({\n          position: 'topRight',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n      }\n      return imagesData;\n    })\n    .then(imagesData => {\n      imagesDiv.append(...renderImages(imagesData));\n      gallery.refresh();\n      span.classList.add('visually-hidden');\n    })\n    .catch(error => console.log(`Error: ${error}`));\n});\n"],"names":["renderImages","input","_","index","li","a","image","textDiv","fetchImages","responce","gallery","SimpleLightbox","formInput","imagesDiv","span","event","searchRequest","iziToast","imagesData","error"],"mappings":"6vBAAO,SAASA,EAAaC,EAAO,CAClC,OAAO,MAAM,KAAK,CAAE,OAAQA,EAAM,KAAK,MAAQ,EAAE,CAACC,EAAGC,IAAU,CAC7D,MAAMC,EAAK,SAAS,cAAc,IAAI,EAChCC,EAAI,SAAS,cAAc,GAAG,EACpCA,EAAE,UAAU,IAAI,cAAc,EAC9BA,EAAE,KAAOJ,EAAM,KAAKE,CAAK,EAAE,cAC3B,MAAMG,EAAQ,SAAS,cAAc,KAAK,EAC1CA,EAAM,UAAU,IAAI,eAAe,EACnCA,EAAM,IAAML,EAAM,KAAKE,CAAK,EAAE,aAC9BG,EAAM,IAAML,EAAM,KAAKE,CAAK,EAAE,KAC9B,MAAMI,EAAU,SAAS,cAAc,KAAK,EAC5C,OAAAA,EAAQ,UAAU,IAAI,UAAU,EAChCF,EAAE,YAAYC,CAAK,EACnBD,EAAE,YAAYE,CAAO,EACrBH,EAAG,YAAYC,CAAC,EAChBE,EAAQ,WAAa,sBAAsBN,EAAM,KAAKE,CAAK,EAAE,KAAK,0BAA0BF,EAAM,KAAKE,CAAK,EAAE,KAAK,6BAA6BF,EAAM,KAAKE,CAAK,EAAE,QAAQ,8BAA8BF,EAAM,KAAKE,CAAK,EAAE,SAAS,OAC5NC,CACX,CAAG,CACH,CClBO,SAASI,EAAYP,EAAO,CACjC,OAAO,MACL,qEAAqE,mBACnEA,CACD,CAAA,0DACL,EAAI,KAAKQ,GAAY,CACjB,GAAI,CAACA,EACH,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CCJA,IAAIC,EAAU,IAAIC,EAAe,aAAc,CAC7C,SAAU,GACV,aAAc,MACd,aAAc,GAChB,CAAC,EACD,MAAMC,EAAY,SAAS,cAAc,oBAAoB,EACvDC,EAAY,SAAS,cAAc,UAAU,EAC7CC,EAAO,SAAS,cAAc,SAAS,EAC7CF,EAAU,iBAAiB,SAAUG,GAAS,CAC5CA,EAAM,eAAc,EACpBF,EAAU,UAAY,GACtB,MAAMG,EAAgBJ,EAAU,SAAS,MAAM,MAAM,OACrD,GAAI,CAACI,EACH,OAAOC,EAAS,MAAM,CACpB,SAAU,WACV,QAAS,kCACf,CAAK,EAEHH,EAAK,UAAU,OAAO,iBAAiB,EACvCN,EAAYQ,CAAa,EACtB,KAAKE,IACCA,EAAW,OACdD,EAAS,MAAM,CACb,SAAU,WACV,QACE,0EACZ,CAAS,EAEIC,EACR,EACA,KAAKA,GAAc,CAClBL,EAAU,OAAO,GAAGb,EAAakB,CAAU,CAAC,EAC5CR,EAAQ,QAAO,EACfI,EAAK,UAAU,IAAI,iBAAiB,CAC1C,CAAK,EACA,MAAMK,GAAS,QAAQ,IAAI,UAAUA,CAAK,EAAE,CAAC,CAClD,CAAC"}